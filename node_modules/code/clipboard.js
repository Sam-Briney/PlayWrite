var window, document, $;
var fs = require("fs");
var BSON = require("buffalo");

exports.run = function(win, doc, JQ){
	window = win;
	document = doc;
	$ = JQ;
}

function copy(project){
	var data = {
		frames:[
			
		]
	}
	
	$(".frame_selected").each(function(){
		var index = parseInt($(this).attr("id").substring(6), 10);
		
		data.frames.push(project.frames[index]);
	});
	
	var bson = BSON.serialize(data);
	
	fs.writeFileSync("temp/clipboard.bson", bson);
}

exports.cut = function(project){
	copy(project);
	
	$("#delete_frame").click();
}

exports.copy = function(project){
	copy(project);
}